{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "confetti-button",
  "title": "Confetti Button",
  "description": "Button with particle burst celebration effect on click.",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/kinetik/confetti-button/confetti-button.tsx",
      "content": "'use client';\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\r\nimport { PartyPopper } from 'lucide-react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ntype Particle = {\r\n  id: number;\r\n  x: number;\r\n  y: number;\r\n  endX: number;\r\n  endY: number;\r\n  color: string;\r\n  rotation: number;\r\n  scale: number;\r\n  shape: 'square' | 'circle' | 'rect';\r\n};\r\n\r\n/* Brand-aligned confetti palette â€” deep blues, light blues, accents */\r\nconst colors = [\r\n  '#1e3a8a', '#2563eb', '#3b82f6', '#60a5fa', '#93c5fd',\r\n  '#1d4ed8', '#dbeafe', '#f59e0b', '#10b981',\r\n];\r\n\r\nexport function ConfettiButton() {\r\n  const [particles, setParticles] = useState<Particle[]>([]);\r\n  const [count, setCount] = useState(0);\r\n  const [mounted, setMounted] = useState(false);\r\n  const shouldReduceMotion = useReducedMotion();\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const burst = useCallback(() => {\r\n    if (shouldReduceMotion) {\r\n      setCount((c) => c + 1);\r\n      return;\r\n    }\r\n\r\n    const newParticles: Particle[] = Array.from({ length: 40 }, (_, i) => ({\r\n      id: Date.now() + i,\r\n      x: window.innerWidth / 2 + (Math.random() - 0.5) * 100,\r\n      y: window.innerHeight / 2,\r\n      endX: (Math.random() - 0.5) * window.innerWidth * 0.8,\r\n      endY: -(Math.random() * window.innerHeight * 0.6 + 100),\r\n      color: colors[Math.floor(Math.random() * colors.length)],\r\n      rotation: Math.random() * 720 - 360,\r\n      scale: Math.random() * 1 + 0.5,\r\n      shape: (['square', 'circle', 'rect'] as const)[Math.floor(Math.random() * 3)],\r\n    }));\r\n\r\n    setParticles((prev) => [...prev, ...newParticles]);\r\n    setCount((c) => c + 1);\r\n\r\n    setTimeout(() => {\r\n      setParticles((prev) => prev.filter((p) => !newParticles.find((np) => np.id === p.id)));\r\n    }, 1500);\r\n  }, [shouldReduceMotion]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center gap-3\">\r\n      <motion.button\r\n        type=\"button\"\r\n        whileHover={shouldReduceMotion ? {} : { scale: 1.05 }}\r\n        whileTap={shouldReduceMotion ? {} : { scale: 0.92 }}\r\n        onClick={burst}\r\n        className=\"relative z-10 inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-[#1e3a8a] to-[#3b82f6] px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-900/20 transition-shadow hover:shadow-xl hover:shadow-blue-900/30\"\r\n      >\r\n        <PartyPopper className=\"h-4 w-4\" />\r\n        Celebrate!\r\n      </motion.button>\r\n\r\n      <span className=\"text-xs text-muted-foreground\">\r\n        {count > 0 ? `${count} celebration${count > 1 ? 's' : ''}` : 'Click to celebrate'}\r\n      </span>\r\n\r\n      {/* Full-page confetti portal */}\r\n      {mounted && typeof document !== 'undefined' &&\r\n        createPortal(\r\n          <AnimatePresence>\r\n            {particles.map((p) => (\r\n              <motion.span\r\n                key={p.id}\r\n                initial={{ x: p.x, y: p.y, opacity: 1, scale: 0 }}\r\n                animate={{\r\n                  x: p.x + p.endX,\r\n                  y: p.y + p.endY,\r\n                  opacity: 0,\r\n                  scale: p.scale,\r\n                  rotate: p.rotation,\r\n                }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{\r\n                  duration: 1.2,\r\n                  ease: [0.2, 0.8, 0.4, 1],\r\n                }}\r\n                className=\"pointer-events-none fixed z-[9999]\"\r\n                style={{\r\n                  backgroundColor: p.color,\r\n                  width: p.shape === 'rect' ? 10 : 8,\r\n                  height: p.shape === 'rect' ? 4 : 8,\r\n                  borderRadius: p.shape === 'circle' ? '50%' : p.shape === 'rect' ? 2 : 1,\r\n                }}\r\n              />\r\n            ))}\r\n          </AnimatePresence>,\r\n          document.body\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:ui"
}