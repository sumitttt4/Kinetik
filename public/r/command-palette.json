{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "command-palette",
  "title": "Command Palette",
  "description": "Spotlight-style search modal with keyboard navigation.",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/kinetik/command-palette/command-palette.tsx",
      "content": "'use client';\r\n\r\nimport { useState, useEffect, useRef, useMemo } from 'react';\r\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\r\nimport { Search, ArrowRight, X, Zap, Layers, ToggleLeft, MousePointer } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst commands = [\r\n  { icon: Zap, label: 'Dynamic Island', category: 'Component' },\r\n  { icon: Layers, label: 'Fluid Tabs', category: 'Component' },\r\n  { icon: MousePointer, label: 'Magnet Button', category: 'Component' },\r\n  { icon: ToggleLeft, label: 'Toggle Switch', category: 'Component' },\r\n  { icon: Search, label: 'Search Documentation', category: 'Action' },\r\n  { icon: ArrowRight, label: 'Browse Registry', category: 'Action' },\r\n];\r\n\r\nexport function CommandPalette() {\r\n  const [open, setOpen] = useState(false);\r\n  const [query, setQuery] = useState('');\r\n  const [selected, setSelected] = useState(0);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const shouldReduceMotion = useReducedMotion();\r\n\r\n  const filtered = useMemo(\r\n    () => commands.filter((c) => c.label.toLowerCase().includes(query.toLowerCase())),\r\n    [query]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setQuery('');\r\n      setSelected(0);\r\n      setTimeout(() => inputRef.current?.focus(), 50);\r\n    }\r\n  }, [open]);\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      setSelected((s) => Math.min(s + 1, filtered.length - 1));\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      setSelected((s) => Math.max(s - 1, 0));\r\n    } else if (e.key === 'Escape') {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center gap-3\">\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setOpen(true)}\r\n        className=\"flex items-center gap-2 rounded-xl border border-border bg-card px-4 py-2 text-sm text-muted-foreground shadow-sm transition-colors hover:bg-accent hover:text-foreground\"\r\n      >\r\n        <Search className=\"h-4 w-4\" />\r\n        <span>Quick search...</span>\r\n        <kbd className=\"ml-2 rounded-md border border-border bg-muted px-1.5 py-0.5 text-[10px] font-medium\">\r\n          ⌘K\r\n        </kbd>\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {open && (\r\n          <>\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 z-50 bg-background/60 backdrop-blur-sm\"\r\n              onClick={() => setOpen(false)}\r\n            />\r\n            <motion.div\r\n              initial={shouldReduceMotion ? { opacity: 0 } : { opacity: 0, scale: 0.96, y: -8 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={shouldReduceMotion ? { opacity: 0 } : { opacity: 0, scale: 0.97 }}\r\n              transition={{ type: 'spring', stiffness: 400, damping: 30 }}\r\n              className=\"fixed left-1/2 top-[20%] z-50 w-full max-w-md -translate-x-1/2 overflow-hidden rounded-xl border border-border bg-card shadow-2xl\"\r\n              onKeyDown={handleKeyDown}\r\n            >\r\n              <div className=\"flex items-center gap-3 border-b border-border px-4\">\r\n                <Search className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\r\n                <input\r\n                  ref={inputRef}\r\n                  value={query}\r\n                  onChange={(e) => { setQuery(e.target.value); setSelected(0); }}\r\n                  placeholder=\"Search components, actions...\"\r\n                  className=\"h-12 flex-1 bg-transparent text-sm text-foreground outline-none placeholder:text-muted-foreground\"\r\n                />\r\n                <button type=\"button\" onClick={() => setOpen(false)} className=\"text-muted-foreground hover:text-foreground\">\r\n                  <X className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"max-h-64 overflow-y-auto p-2\">\r\n                {filtered.length === 0 ? (\r\n                  <p className=\"py-6 text-center text-xs text-muted-foreground\">No results found.</p>\r\n                ) : (\r\n                  filtered.map((cmd, i) => (\r\n                    <button\r\n                      key={cmd.label}\r\n                      type=\"button\"\r\n                      onMouseEnter={() => setSelected(i)}\r\n                      onClick={() => setOpen(false)}\r\n                      className={cn(\r\n                        'flex w-full items-center gap-3 rounded-xl px-3 py-2.5 text-left transition-colors',\r\n                        selected === i ? 'bg-accent text-foreground' : 'text-muted-foreground'\r\n                      )}\r\n                    >\r\n                      <cmd.icon className=\"h-4 w-4 shrink-0\" />\r\n                      <span className=\"flex-1 text-sm font-medium\">{cmd.label}</span>\r\n                      <span className=\"text-[10px] text-muted-foreground\">{cmd.category}</span>\r\n                    </button>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"border-t border-border px-4 py-2 text-[10px] text-muted-foreground\">\r\n                <span className=\"inline-flex items-center gap-1\">\r\n                  <kbd className=\"rounded border border-border bg-muted px-1\">↑↓</kbd> navigate\r\n                </span>\r\n                <span className=\"ml-3 inline-flex items-center gap-1\">\r\n                  <kbd className=\"rounded border border-border bg-muted px-1\">esc</kbd> close\r\n                </span>\r\n              </div>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:ui"
}